<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <meta name="theme-color" content="#0b1b2b" />
    <title>Indonesian Instruments - Prototype Branch</title>

    <link rel="stylesheet" href="reset.css" />
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <noscript>
      <div
        style="padding: 1rem; background: #222; color: #fff; text-align: center"
      >
        This interactive site needs JavaScript enabled.
      </div>
    </noscript>

    <div class="app">
      <!-- PINNED HEADER -->
      <header class="app-header" aria-label="Top controls">
        <button id="muteToggle" class="btn" aria-pressed="false" type="button">
          üîà Sound
        </button>
        <button
          id="helpToggle"
          class="btn"
          aria-expanded="false"
          aria-controls="helpPanel"
          type="button"
        >
          ‚ùì Help
        </button>
      </header>

      <!-- HELP PANEL -->
      <aside id="helpPanel" class="help-panel" hidden>
        <p><strong>How to use</strong></p>
        <ul>
          <li>Click a floating instrument bubble to learn about it.</li>
          <li>A popup will show info and may play a short audio clip.</li>
          <li>Use the Sound button to mute or unmute all audio.</li>
          <li>Bottom-left: Master / Instrument volume controls.</li>
          <li>Look for the ‚ÑπÔ∏è bubble for a quick project overview.</li>
        </ul>
      </aside>

      <!-- STAGE -->
      <main id="bubbleStage" class="stage" aria-label="Instrument bubbles">
        <!-- INFO BUBBLE -->
        <button
          class="bubble"
          data-id="about"
          aria-label="About Nada Nusantara"
          type="button"
        >
          <span
            class="bubble-icon"
            aria-hidden="true"
            style="font-size: 2.2rem; line-height: 1"
            >‚ÑπÔ∏è</span
          >
        </button>

        <!-- Existing instrument bubbles -->
        <button
          class="bubble"
          data-id="angklung"
          aria-label="Angklung"
          type="button"
        >
          <img class="bubble-icon" src="images/angklung.png" alt="" />
        </button>
        <button
          class="bubble"
          data-id="kendang"
          aria-label="Kendang"
          type="button"
        >
          <img class="bubble-icon" src="images/kendang.png" alt="" />
        </button>
        <button
          class="bubble"
          data-id="gong"
          aria-label="Gong Ageng"
          type="button"
        >
          <img class="bubble-icon" src="images/gong.png" alt="" />
        </button>
        <button
          class="bubble"
          data-id="suling"
          aria-label="Suling"
          type="button"
        >
          <img class="bubble-icon" src="images/suling.png" alt="" />
        </button>
        <button
          class="bubble"
          data-id="sasando"
          aria-label="Sasando"
          type="button"
        >
          <img class="bubble-icon" src="images/sasando.png" alt="" />
        </button>
        <button
          class="bubble"
          data-id="kolintang"
          aria-label="Kolintang"
          type="button"
        >
          <img class="bubble-icon" src="images/kolintang.png" alt="" />
        </button>
        <button
          class="bubble"
          data-id="gamelan"
          aria-label="Gamelan Gender / Saron"
          type="button"
        >
          <img class="bubble-icon" src="images/gamelan.png" alt="" />
        </button>
      </main>

      <!-- FOOTER -->
      <footer class="app-footer">
        Made for spatial UI exploration ‚Äî Indonesian traditional instruments.
      </footer>

      <!-- INSTRUMENT MODAL -->
      <section id="instrumentModal" class="modal" hidden>
        <div class="modal-backdrop" data-close="true" aria-hidden="true"></div>
        <article
          class="modal-card"
          role="dialog"
          aria-modal="true"
          aria-labelledby="modalTitle"
          aria-describedby="modalDesc"
        >
          <button
            id="modalClose"
            class="modal-close"
            aria-label="Close"
            type="button"
          >
            ‚úï
          </button>

          <div class="modal-content">
            <figure class="modal-media">
              <img id="modalImage" src="" alt="" />
            </figure>

            <div class="modal-body">
              <h2 id="modalTitle" class="modal-title">Instrument</h2>

              <dl class="meta">
                <div class="meta-row">
                  <dt>Region:</dt>
                  <dd id="metaRegion">‚Äî</dd>
                </div>
                <div class="meta-row">
                  <dt>Materials Made:</dt>
                  <dd id="metaMaterials">‚Äî</dd>
                </div>
                <div class="meta-row">
                  <dt>Pronunciation:</dt>
                  <dd id="metaPronunciation"><em>‚Äî</em></dd>
                </div>
                <div class="meta-row">
                  <dt>Date:</dt>
                  <dd id="metaDate">‚Äî</dd>
                </div>
              </dl>

              <!-- div supports rich HTML for About -->
              <div id="modalDesc" class="modal-desc" aria-live="polite">‚Äî</div>
            </div>
          </div>
        </article>
      </section>

      <!-- FIRST-VISIT AUDIO NOTICE -->
      <div
        id="audioNotice"
        class="modal"
        role="dialog"
        aria-modal="true"
        aria-labelledby="audioNoticeTitle"
        hidden
      >
        <div class="modal-backdrop" aria-hidden="true"></div>
        <div class="notice-card">
          <h2 id="audioNoticeTitle">
            Heads up: this site can play instrument audio
          </h2>
          <p class="notice-text">
            When you click a bubble, a short audio clip for that instrument may
            auto-play. You can mute any time with the
            <strong>Sound</strong> button or adjust levels in the bottom-left.
          </p>
          <label class="notice-row">
            <input type="checkbox" id="audioNoticeDont" />
            <span>Don‚Äôt show this again</span>
          </label>
          <div class="notice-actions">
            <button id="audioNoticeMute" class="btn" type="button">
              Start Muted
            </button>
            <button id="audioNoticeOk" class="btn" type="button">Accept</button>
          </div>
        </div>
      </div>

      <!-- BOTTOM-LEFT VOLUME CLUSTER -->
      <aside class="volume-cluster" aria-label="Volume controls">
        <!-- Master -->
        <div class="vol-control" data-kind="master">
          <button
            id="volMasterBtn"
            class="vol-orb"
            aria-label="Master volume"
            type="button"
          >
            <span class="vol-liquid" aria-hidden="true"></span>
            <span class="vol-icon" aria-hidden="true">üéö</span>
          </button>
          <div class="vol-label">Master</div>
        </div>

        <!-- Instrument -->
        <div class="vol-control" data-kind="instrument">
          <button
            id="volInstrBtn"
            class="vol-orb"
            aria-label="Instrument audio volume"
            type="button"
          >
            <span class="vol-liquid" aria-hidden="true"></span>
            <span class="vol-icon" aria-hidden="true">üé∂</span>
          </button>
          <div class="vol-label">Bubbles</div>
        </div>
      </aside>

      <!-- AUDIO TAGS -->
      <audio id="player" preload="auto" crossorigin="anonymous"></audio>
      <audio
        id="lobby"
        src="audio/lobbyMusic.mp3"
        preload="auto"
        loop
        crossorigin="anonymous"
      ></audio>
    </div>

    <script src="main.js" defer></script>
  </body>
</html>
